<!doctype html >
<html>
<head>
    <title>Training AskiaVista</title>
    <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/jquery.js"></script>
    <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.js"></script>
	<script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.ui.pagination.js"></script>
   <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.ui.inputlist.js"></script>
   <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.replay.js"></script>
   <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.chart.highcharts.js"></script>
   <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/Highcharts/highcharts.js"></script>
   <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.ui.dropdown.js"></script>
   <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.ui.fixedHeaders.js"></script>
   <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.ui.pagination.js"></script>
   <script type="text/javascript" src="askiavista.stephen.js"></script>
   <script type="text/javascript" src="./connect.js"></script>

   <script type="text/javascript">

		askiaVista.getResponses({
			question:"i2. Age",
			dropDown:{
				selector : "#responses",
				change:function(response){
					console.log(response);
					var filterstring = "??i2. Age?? has {"+response.index+"}";
					askiaVista.replay([
						"table1","table2"
					],{
						subPopulation:{
							definition:filterstring,
							name:response.name
						}
					});
				}
			}
		});
		askiaVista.stephen();

		askiaVista.getPages({
			id:"table1",
			loadingMessage:" ",
			title:"Ma table, Filter: ??SP?? ",
			columns:["i2. Age"],
			settings:{

			},
			containerId:"result1"
		});
		askiaVista.getPages({
			id:"table2",
			loadingMessage:" ",
			title:"Ma table Filter: ??SP??",
			columns:["i1. Gender"],
			settings:{

			},
			containerId:"result2"
		});



    </script>
	<style>
	#dashboardcontainer{
	}
	.resultcontainer{
		border:1px solid black;
		width:45%;
		margin:10px;
		overflow:hidden;
		display:inline-block;
		height:400px;
	}
	#header{
		display:block;
		width:100%;
		height:50px;
		border-bottom:2px solid #F0F0F0;
	}
	</style>
</head>

<body>
	<div id="header">
		<select id="responses"></select>
	</div>
	<div id="dashboardcontainer">
		<div id="result1" class="resultcontainer"></div>
		<div id="result2" class="resultcontainer"></div>
	</div>
</body>


</html>
