<!doctype html >
<html>
<head>
    <title>Training AskiaVista</title>
    <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/jquery.js"></script>
    <script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.js"></script>
	<script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.replay.js"></script>
	<script type="text/javascript" src="https://show.askia.com/AskiaVistaReader.Net4/Scripts/askiavista.ui.dropdown.js"></script>
   <script type="text/javascript" src="./connect.js"></script>
   <script type="text/javascript">

		askiaVista.getQuestions({
			profile:"test54",
			success:function(result){
				var jsonresult = JSON.parse(result);
				for(var i=0; i<jsonresult.length;i++ ){
					//console.log(jsonresult[i].caption);
					var x = document.getElementById("DD1");
					var option = document.createElement("option");
					option.text = jsonresult[i].shortcut;
					x.add(option);
				}
			}
		});

		askiaVista.getPages({
			id:"1",
      rows:"7. Type",
      columns: "i1. Gender",
      containerId: "result1"
		});

		function myFilter(){
			//console.log($("#DD1").value);
			askiaVista.getPages({
			id:"1",
			"rows": [
				{
					shortcut:$("#DD1").find(":selected").text()
				}
			],
			"columns": "i1. Gender",
			containerId: "result1"
		});
		}

    </script>
</head>

<body>

    <select id="DD1" onchange="myFilter()"></select>
	<div id="result1"></div>

</body>


</html>
